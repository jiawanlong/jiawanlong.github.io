import{aI as R,aM as i,co as p,aL as D,cp as b}from"./index-6c47f69d.js";const f="javascript:",o=e=>{if(typeof e=="string")if(e.startsWith(f)){const s=e.split(f)[1];let a;try{a=new Function(`${s}`)()}catch(m){console.log(m),window.$message.error("js内容解析有误！")}return a}else return e;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];e[s]=o(a)}return e},F=(e,s)=>{if(!e||!s)return;const{requestOriginUrl:a,requestParams:m}=s,{requestUrl:d,requestContentType:T,requestDataType:q,requestHttpType:O,requestParamsBodyType:w,requestSQLContent:C,requestParams:c}=e;if(q===R.STATIC||!d)return;let n={...m.Header,...c.Header};n=o(n);let t={},l={...c.Params};l=o(l);let y=new FormData;switch(w){case i.NONE:break;case i.JSON:n["Content-Type"]=p.JSON,t=o(c.Body.json),typeof t=="string"&&(t=JSON.parse(t));break;case i.XML:n["Content-Type"]=p.XML,t=o(c.Body.xml);break;case i.X_WWW_FORM_URLENCODED:{n["Content-Type"]=p.FORM_URLENCODED;const r=c.Body["x-www-form-urlencoded"];for(const u in r)y.set(u,o(r[u]));t=y;break}case i.FORM_DATA:{n["Content-Type"]=p.FORM_DATA;const r=c.Body["form-data"];for(const u in r)y.set(u,o(r[u]));t=y;break}}T===D.SQL&&(n["Content-Type"]=p.JSON,t=C);try{const r=new Function("return `"+`${a}${d}`.trim()+"`")();return b({url:r,method:O,data:t,params:l,headers:n})}catch(r){console.log(r),window.$message.error("URL地址格式有误！")}};export{F as c};
