import{d as N,a0 as ge,a1 as he,p as ve,l as g,M as $,r as u,o as C,c as w,R as T,U as L,e as c,u as s,q as S,w as p,ab as fe,j as F,m as ye,$ as Ce,bb as be,b9 as ee,bc as Oe,a2 as Se,bd as ke,F as q,s as G,D as H,f as Y,t as K,aq as R,aY as Ie,B as xe,C as we,Y as k,be as Te,a6 as Ee}from"./index-6c47f69d.js";import{C as Le}from"./index-c4c2878d.js";import{l as He,c as J}from"./index-a89d093b.js";import{c as te,b as Ne,_ as Pe,f as Ae,d as $e,e as Re}from"./index-25575ef7.js";import{a as Be,b as Fe,l as ze}from"./plugin-07aea9dd.js";import{i as z}from"./icon-da829856.js";import{u as D,a as Q,C as B}from"./chartLayoutStore-a702eef3.js";import{u as De,P as I,b as x}from"./chartEditStore-bfe1babe.js";const Me={class:"go-chart-common"},Ve={class:"chart-content-list"},Ue=N({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(d){const i=He(()=>fe(()=>import("./index-6cd337d7.js"),["./index-6cd337d7.js","./index-272f015a.js","./index-6c47f69d.js","..\\css\\index-22744142.css","./icon-da829856.js","..\\css\\index-0e56b33c.css","./chartEditStore-bfe1babe.js","./plugin-07aea9dd.js","./chartLayoutStore-a702eef3.js","./index-25575ef7.js","./SettingItem-dc22b861.js","..\\css\\StylesSetting-62069bcb.css","./SettingItemBox-53bd9f2b.js","./CollapseItem.vue_vue_type_script_setup_true_lang-b4626c95.js","./index.esm.min-b013ef93.js","./http-55a69c14.js","./fileTypeEnum-21359a08.js","..\\css\\index-2c96ae47.css","./index-a89d093b.js","..\\css\\index-bc4d6b06.css","./index-c4c2878d.js","..\\css\\index-9f41ce5c.css","..\\css\\index-88411542.css"],import.meta.url)),h=te(),m=d,v=ge(),_=he(()=>t.categorysNum>2?!0:!v.getHidePackageOneCategory);let t=ve({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"所有"},categorysNum:0,saveSelectOptions:{}});const l=g("all"),f=n=>{for(const o in n){t.selectOptions=n[o];break}};$(()=>m.selectOptions,n=>{if(t.categorysNum=0,!!n){n.list.forEach(o=>{const b=t.categorys[o.category];t.categorys[o.category]=b&&b.length?[...b,o]:[o],t.categoryNames[o.category]=o.categoryName,t.categorys.all.push(o)});for(const o in t.categorys)t.categorysNum+=1,t.menuOptions.push({key:o,label:t.categoryNames[o]});f(t.categorys),l.value=t.menuOptions[0].key}},{immediate:!0}),$(()=>h.newPhoto,n=>{if(!n)return;const o=n.category;t.categorys[o].splice(1,0,n),t.categorys.all.splice(1,0,n)});const y=(n,o)=>{t.categorys[n.category].splice(o,1),t.categorys.all.splice(o,1)},O=n=>{t.selectOptions=t.categorys[n]};return(n,o)=>{const b=u("n-menu"),M=u("n-scrollbar");return C(),w("div",Me,[T(c(b,{class:"chart-menu-width",value:l.value,"onUpdate:value":[o[0]||(o[0]=P=>l.value=P),O],options:s(t).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[L,_.value]]),S("div",Ve,[c(M,{trigger:"none"},{default:p(()=>[c(s(i),{menuOptions:s(t).selectOptions,onDeletePhoto:y},null,8,["menuOptions"])]),_:1})])])}}});const je=F(Ue,[["__scopeId","data-v-00605800"]]),qe=ye(),oe=g(qe.getAppTheme),{setItem:W}=D(),{getCharts:X}=Ce(D()),Ge={class:"list-img",alt:"图表图片"},Ye=N({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(d){const i=d,h=g(""),m=async()=>{h.value=await Ne(i.chartConfig)};return $(()=>i.chartConfig.key,()=>m(),{immediate:!0}),(v,_)=>{const t=be("lazy");return T((C(),w("img",Ge,null,512)),[[t,h.value]])}}}),Ke=d=>(xe("data-v-833c2b76"),d=d(),we(),d),Je={class:"go-chart-search-box"},Qe={class:"search-list-box"},We=["title","onClick"],Xe=Ke(()=>S("div",{class:"popover-modal"},null,-1)),Ze=N({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(d){ee(e=>({"42a060ac":s(oe)}));const i=d,h=De(),m=D(),{SearchIcon:v,AlbumsIcon:_,GridIcon:t}=z.ionicons5,l=g(!1),f=g(!1),y=g(void 0),O=g(null),n=g([]),o=g(m.getChartType),b=[{label:"单列",icon:_,value:Q.SINGLE},{label:"双列",icon:t,value:Q.DOUBLE}],P=(e=>{const a=[];for(const E of e)a.push(...E.list);return a})(i.menuOptions),A=()=>{y.value=void 0,f.value=!1,O.value=null,n.value=[]},ne=e=>{if(!Ie(e)||!e.length){A();return}y.value=!0,f.value=!0,n.value=P.filter(a=>!a.disabled&&(!e||a.title.toLowerCase().includes(e.toLowerCase()))),setTimeout(()=>{y.value=void 0},500)},V=e=>{f.value&&e.target&&(e.target.closest(".go-chart-search")||A())},se=async e=>{if(!e.disabled)try{Be(),J(e.chartKey,Ae(e)),J(e.conKey,$e(e));let a=await Re(e);e.redirectComponent&&(e.dataset&&(a.option.dataset=e.dataset),a.chartConfig.title=e.title,a.chartConfig.chartFrame=e.chartFrame),h.addComponentList(a,!1,!0),h.setTargetSelectChart(a.id),A(),Fe()}catch{ze(),window.$message.warning("图表正在研发中, 敬请期待...")}},U=e=>{l.value=e},ae=e=>{o.value=e,m.setItem(B.Chart_TYPE,e)};return Oe(document,"click",e=>{V(e)}),Se(()=>{ke(document,"click",V)}),(e,a)=>{const E=u("n-icon"),ce=u("n-input"),le=u("n-input-group"),re=u("n-empty"),ie=u("n-text"),ue=u("n-scrollbar"),pe=u("n-popover"),de=u("n-tooltip"),_e=u("n-button"),me=u("n-button-group");return C(),w("div",Je,[S("div",{class:R(["chart-search go-transition",{"chart-search-focus":l.value}])},[c(pe,{class:"chart-search-popover","show-arrow":!1,show:f.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:p(()=>[c(le,null,{default:p(()=>[c(ce,{size:"small",placeholder:"搜索组件",value:O.value,"onUpdate:value":[a[0]||(a[0]=r=>O.value=r),ne],valueModifiers:{trim:!0},loading:y.value,onFocus:a[1]||(a[1]=r=>U(!0)),onBlur:a[2]||(a[2]=r=>U(!1))},{suffix:p(()=>[T(c(E,{component:s(v)},null,8,["component"]),[[L,!y.value]])]),_:1},8,["value","loading"])]),_:1})]),default:p(()=>[S("div",Qe,[c(ue,{style:{"max-height":"500px"}},{default:p(()=>[T(c(re,{size:"small",description:"没有找到组件~"},null,512),[[L,!n.value.length]]),(C(!0),w(q,null,G(n.value,r=>(C(),w("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:r.key,title:r.title,onClick:j=>se(r)},[r.icon?(C(),H(s(Pe),{key:0,class:"list-img",icon:r.icon,color:"#999",width:"20"},null,8,["icon"])):(C(),H(s(Ye),{key:1,class:"list-item-img",chartConfig:r},null,8,["chartConfig"])),c(ie,{class:"list-item-fs",depth:"2"},{default:p(()=>[Y(K(r.title),1)]),_:2},1024)],8,We))),128))]),_:1}),Xe])]),_:1},8,["show"])],2),c(me,{class:R(["btn-group go-transition",{"btn-group-focus":l.value}]),style:{display:"flex"}},{default:p(()=>[(C(),w(q,null,G(b,(r,j)=>c(_e,{ghost:"",size:"small",key:j,type:o.value===r.value?"primary":"tertiary",onClick:_t=>ae(r.value)},{default:p(()=>[c(de,{"show-arrow":!1,trigger:"hover"},{trigger:p(()=>[c(E,{size:"14",component:r.icon},null,8,["component"])]),default:p(()=>[Y(" "+K(r.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});const et=F(Ze,[["__scopeId","data-v-833c2b76"]]),{AirPlaneOutlineIcon:tt,ImageIcon:ot,BarChartIcon:nt}=z.ionicons5,{TableSplitIcon:st,RoadmapIcon:at,SpellCheckIcon:ct,GraphicalDataFlowIcon:lt}=z.carbon,Z={[I.CHARTS]:{icon:k(at),label:x.CHARTS},[I.INFORMATIONS]:{icon:k(ct),label:x.INFORMATIONS},[I.TABLES]:{icon:k(st),label:x.TABLES},[I.DECORATES]:{icon:k(lt),label:x.DECORATES},[I.PHOTOS]:{icon:k(ot),label:x.PHOTOS},[I.ICONS]:{icon:k(tt),label:x.ICONS}},rt=()=>{const d=te(),i=[];(()=>{for(const l in d.getPackagesList)i.push({key:l,icon:Z[l].icon,label:Z[l].label,list:d.getPackagesList[l]})})();let m=i[0].key;const v=g(i[0].key),_=g(i[0]);return{getCharts:X,BarChartIcon:nt,themeColor:oe,selectOptions:_,selectValue:v,clickItemHandle:(l,f)=>{_.value=f,m===l?W(B.CHARTS,!X.value,!1):W(B.CHARTS,!0,!1),m=l},menuOptions:i}},it={class:"menu-width-box"},ut={class:"menu-component-box"},pt=N({__name:"index",setup(d){ee(f=>({a65d33fe:s(m)}));const{getCharts:i,BarChartIcon:h,themeColor:m,selectOptions:v,selectValue:_,clickItemHandle:t,menuOptions:l}=rt();return(f,y)=>{const O=u("n-icon"),n=u("n-menu"),o=u("go-skeleton");return C(),H(s(Le),{class:R(["go-content-charts",{scoped:!s(i)}]),title:"组件",depth:1,backIcon:!1},{icon:p(()=>[c(O,{size:"14",depth:2},{default:p(()=>[c(s(h))]),_:1})]),"top-right":p(()=>[T(c(s(et),{menuOptions:s(l)},null,8,["menuOptions"]),[[L,s(i)]])]),default:p(()=>[S("aside",null,[S("div",it,[c(n,{class:"menu-width",value:s(_),"onUpdate:value":[y[0]||(y[0]=b=>Te(_)?_.value=b:null),s(t)],options:s(l),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),S("div",ut,[c(o,{load:!s(v),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),s(v)?(C(),H(s(je),{selectOptions:s(v),key:s(_)},null,8,["selectOptions"])):Ee("",!0)])])])]),_:1},8,["class"])}}});const dt=F(pt,[["__scopeId","data-v-f892928e"]]),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"}));export{Ye as _,Ot as i};
