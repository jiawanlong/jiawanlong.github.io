import{d as y,E as C,a1 as x,b2 as A,r as u,o as a,D as i,w as c,c as R,F as O,s as L,H as w,q as B,t as G,Y as p,O as H,b3 as b,b4 as k,S as r,aE as l,Q as D,j as P}from"./index-6c47f69d.js";import{g as N}from"./plugin-07aea9dd.js";import{u as F}from"./chartEditStore-bfe1babe.js";import{s as M}from"./useSyncUpdate.hook-64816111.js";import{i as V}from"./icon-da829856.js";import"./chartLayoutStore-a702eef3.js";import"./index-25575ef7.js";import"./SettingItem-dc22b861.js";/* empty css                                                                      */import"./SettingItemBox-53bd9f2b.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-b4626c95.js";import"./index.esm.min-b013ef93.js";import"./http-55a69c14.js";import"./fileTypeEnum-21359a08.js";const j=y({__name:"index",setup(q){const{BrowsersOutlineIcon:f,SendIcon:g,AnalyticsIcon:v}=V.ionicons5,_=F(),S=C(),h=()=>{const o=H(b.CHART_PREVIEW_NAME,"href");if(!o)return;const{id:n}=S.params,t=typeof n=="string"?n:n[0],s=_.getStorageInfo(),e=k(r.GO_CHART_STORAGE_LIST)||[];if(e?.length){const m=e.findIndex(T=>T.id===t);m!==-1?(e.splice(m,1,{id:t,...s}),l(r.GO_CHART_STORAGE_LIST,e)):(e.push({id:t,...s}),l(r.GO_CHART_STORAGE_LIST,e))}else l(r.GO_CHART_STORAGE_LIST,[{id:t,...s}]);D(o,[t],void 0,!0)},E=()=>{N({message:"想体验发布功能，请前往 master-fetch 分支查看: https://gitee.com/MTrun/go-view/tree/master-fetch",positiveText:"了然",closeNegativeText:!0,onPositiveCallback:()=>{}})},d=[{select:!0,title:"同步内容",type:"primary",icon:p(v),event:M},{select:!0,title:"预览",icon:p(f),event:h},{select:!0,title:"发布",icon:p(g),event:E}],I=x(()=>{if(_.getEditCanvas.isCodeEdit)return d;const o=A.cloneDeep(d);return o.shift(),o});return(o,n)=>{const t=u("n-button"),s=u("n-space");return a(),i(s,{class:"go-mt-0",wrap:!1},{default:c(()=>[(a(!0),R(O,null,L(I.value,e=>(a(),i(t,{key:e.title,type:e.type,ghost:"",onClick:e.event},{icon:c(()=>[(a(),i(w(e.icon)))]),default:c(()=>[B("span",null,G(e.title),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})}}});const ne=P(j,[["__scopeId","data-v-d44c6734"]]);export{ne as default};
